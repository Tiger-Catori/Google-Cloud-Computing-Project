{% extends "base.html" %}

{% block content %}

<div>
  <h1>Update product details</h1>
</div>

<div>
    <form method="post" action="{{ url_for('update_product_submitted') }}" enctype="multipart/form-data">
        <div class="form-group">
            <label for="id">ID</label>
            <input type="text" name="id" class="form-control" value="{{product_info['_id']['$oid']}}" readonly>
        </div>
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" name="title" class="form-control" value="{{product_info.title}}" required>
        </div>
        <div class="form-group">
            <label for="ageRating">Age Rating</label>
            <input type="text" name="ageRating" class="form-control" value="{{product_info.ageRating}}" required>
        </div>
        <div class="form-group">
            <label for="pricePerUnit">Price Per Unit</label>
            <input type="number" step="0.01" name="pricePerUnit" class="form-control" value="{{product_info.pricePerUnit}}" required>
        </div>
        <div class="form-group">
            <label for="qty">Quantity</label>
            <input type="number" name="qty" class="form-control" value="{{product_info.qty}}" required>
        </div>
        <div class="form-group">
            <label for="tags">Tags as a comma separate list, no spaces, a-z only, 1 tag minimum</label>
            <input name="tags" pattern="[a-z]+|([a-z]+,)+[a-z]+" class="form-control" value="{{product_info.tags}}" required>
        </div>
        <div class="form-group">
            <label for="image">Current image (uploading a new image will replace this)</label><br>
            <img class="card-img-top" style="max-height: 300px;width: auto" src="https://storage.cloud.google.com/video-game-products/cloud-images/{{product_info.imageID}}.jpg" alt="Image of {{product_info.title}}">
            <input name="image" type="file" class="form-control" accept="image/jpeg">
        </div>
        <button type="submit" class="btn btn-default">Update</button>
    </form>
</div>

{% endblock %}